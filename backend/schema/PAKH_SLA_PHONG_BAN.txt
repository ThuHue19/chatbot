TABLE: PAKH_SLA_PHONG_BAN
DESCRIPTION: Báo cáo SLA phản ánh theo từng phòng ban phụ trách xử lý. Đây là bảng tổng hợp, dùng cho các truy vấn thống kê hoặc tổng hợp phản ánh theo đơn vị cấp phòng.

COLUMNS:
- NGAY (DATE): Ngày ghi nhận.
- THANG (VARCHAR2): Tháng ghi nhận.
- QUY (VARCHAR2): Quý.
- NAM (VARCHAR2): Năm.
- TRUNG_TAM (VARCHAR2): Trung tâm xử lý phản ánh.
- PHONG_BAN (VARCHAR2): Phòng ban phụ trách.
- MA_TINH (VARCHAR2): Mã tỉnh.
- MA_LOAI_PA (VARCHAR2): Mã loại phản ánh.
- CEN_CODE (NUMBER): Mã trung tâm kỹ thuật.
- FO_BO (VARCHAR2): Lớp dịch vụ (FO/BO).
- LOAI_THUE_BAO (VARCHAR2): Loại thuê bao (KHDN, KDCN, VIP).
- CA_TRUC (VARCHAR2): Ca trực.
- NGUYEN_NHAN (VARCHAR2): Nguyên nhân xử lý.
- MA_HUYEN (VARCHAR2): Mã huyện.
- FB_GROUP (NUMBER): Nhóm phản ánh (phân loại nhóm).

AGGREGATE_COLUMNS:
# Những cột sau đây đại diện cho số lượng phản ánh ở các trạng thái khác nhau. 
# Khi cần thống kê tổng số lượng, hãy DÙNG HÀM SUM(<tên_cột>) trên các cột này.
- SO_PA_NHAN (NUMBER): Số phản ánh đã nhận (tổng số phản ánh, số lượng phản ánh tiếp nhận).
- SO_PA_DA_XL (NUMBER): Số phản ánh đã xử lý xong (hoàn tất, hoàn thành).
- SO_PA_DANG_XL_DH (NUMBER): Số phản ánh đang xử lý đúng hạn.
- SO_PA_DANG_XL_QH (NUMBER): Số phản ánh đang xử lý quá hạn.
- SO_PA_TIEN_XL_DH (NUMBER): Số phản ánh chuẩn bị xử lý đúng hạn.
- SO_PA_TIEN_XL_QH (NUMBER): Số phản ánh chuẩn bị xử lý quá hạn.
- SO_PA_DA_CHUYEN (NUMBER): Số phản ánh đã chuyển tiếp.
- SO_PA_XL_DH (NUMBER): Số phản ánh xử lý đúng hạn.
- SO_PA_DA_XL_DH (NUMBER): Số phản ánh đã xử lý xong đúng hạn.
- SO_PA_DA_XL_QH (NUMBER): Số phản ánh đã xử lý xong quá hạn.
- TONG_TG_XL (NUMBER): Tổng thời gian xử lý (tính bằng phút, dùng để tính SLA trung bình).
- SO_PA_DH (NUMBER): Số phản ánh đúng hạn.
- SO_PA_QH (NUMBER): Số phản ánh quá hạn.
- SO_PA_TU_CHOI (NUMBER): Số phản ánh bị từ chối xử lý.
- SO_PA_DONG_DH (NUMBER): Số phản ánh đã đóng đúng hạn.
- SO_PA_CAN_DONG (NUMBER): Số phản ánh chờ đóng (đã xử lý xong nhưng chưa cập nhật trạng thái).
- SO_PA_KHONG_DAT (NUMBER): Số phản ánh không đạt SLA (ví dụ: xử lý quá hạn, sai quy trình).

NOTE:
- Khi thống kê, cần sử dụng `SUM(<tên_cột>)` thay vì `COUNT(*)` hay `SUM(1)`.
- **LƯU Ý CỰC KỲ QUAN TRỌNG:** Khi thống kê số lượng hoặc tổng số, cần **LUÔN SỬ DỤNG `SUM(<tên_cột>)`** trên các cột trong phần `AGGREGATE_COLUMNS` thay vì `COUNT(*)` hay `SUM(1)`. Các cột này đã chứa sẵn giá trị tổng hợp.
- Không có quan hệ JOIN trực tiếp giữa `PAKH_SLA_CA_NHAN` và `PAKH`, KHÔNG được JOIN 2 bảng này với nhau.

SELECT INSTRUCTIONS:
- Khi muốn đếm số phản ánh → dùng `SUM(SO_PA_NHAN)`
- Khi muốn đếm phản ánh quá hạn → dùng `SUM(SO_PA_QH)`
- Muốn đếm phản ánh xử lý đúng hạn → dùng `SUM(SO_PA_DA_XL_DH)`
- Muốn tính trung bình thời gian xử lý → dùng `AVG(TONG_TG_XL)`
- Không dùng `COUNT(*)`, không dùng `TRANG_THAI`, vì bảng này đã tổng hợp sẵn.
- Nếu lọc theo người → dùng điều kiện WHERE CA_NHAN = '<tên>'
- Nếu lọc theo tháng/năm → dùng WHERE THANG = '<tháng>' AND NAM = '<năm>'
- Lọc theo ca trực nếu cần (CA_TRUC)
- Lọc theo phòng ban, trung tâm nếu cần (PHONG_BAN, TRUNG_TAM)
- Công thức tính tỷ lệ xử lý đúng hạn:
    (SO_PA_DA_XL_DH + SO_PA_DANG_XL_DH) / SO_PA_NHAN * 100
- Với thời gian thì lấy từ cột NAM, THANG, QUY, NGAY


